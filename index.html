<!DOCTYPE html>

<html lang="en">
<head>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="yes" name="mobile-web-app-capable"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Clockthing v6.6.6</title>
<style>
.stacked-clock {
  display: none;
}

    :root {
      --bg-color: #121212;
      --text-color: #ffffff;
      --accent-color: #ffff00;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      width: 100%;
      height: 100%;
      font-family: monospace;
      background-color: var(--bg-color);
      color: var(--text-color);
      overflow: hidden;
    }
    .container {
      text-align: center;
      position: absolute;
    }
    .time {
      font-size: 8rem;
      margin-bottom: 2rem;
    }
    .countdown {
      font-size: 5rem;
      color: var(--accent-color);
    }
    .message {
      font-size: 3rem;
      color: var(--accent-color);
    }
    .fullscreen-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: 2px solid var(--accent-color);
      color: var(--accent-color);
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 0.5rem;
      z-index: 10;
      display: none;
    }
    .day-list {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .day {
      font-size: 2rem;
      color: grey;
    }
    .day.today {
      color: var(--text-color);
      font-weight: bold;
    }
    .controls {
      position: absolute;
      top: 1rem;
      left: 1rem;
      display: flex;
      gap: 1rem;
      z-index: 10;
      flex-wrap: wrap;
      display: none;
    }
    .controls input,
    .controls select {
      background: var(--bg-color);
      color: var(--accent-color);
      border: 1px solid var(--accent-color);
      padding: 0.2rem 0.5rem;
      border-radius: 0.25rem;
    }
    body:fullscreen .controls,
    body:-webkit-full-screen .controls,
    body:fullscreen .fullscreen-btn,
    body:-webkit-full-screen .fullscreen-btn {
      display: none;
    }
    .lunch-indicator {
      font-size: 2rem;
      margin-top: 1rem;
      color: orange;
    }
  
.effect-matrix::before,
.effect-static::before,
.effect-scanlines::before,
.effect-grid::before {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.effect-matrix::before {
  background: repeating-linear-gradient(to bottom, #0f0 0px, #000 2px, #0f0 4px);
  opacity: 0.2;
  animation: matrix-fall 1s linear infinite;
}

.effect-static::before {
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="2" height="2"><rect width="1" height="1" fill="black"/><rect x="1" y="1" width="1" height="1" fill="black"/></svg>') repeat;
  opacity: 0.1;
  animation: static-noise 0.2s steps(10) infinite;
}

.effect-scanlines::before {
  background: repeating-linear-gradient(to bottom, rgba(0,0,0,0.2) 0, rgba(0,0,0,0.2) 2px, transparent 2px, transparent 4px);
}

.effect-grid::before {
  background: linear-gradient(#0f0 1px, transparent 1px), linear-gradient(90deg, #0f0 1px, transparent 1px);
  background-size: 20px 20px;
  opacity: 0.1;
}

@keyframes matrix-fall {
  0% { background-position-y: 0; }
  100% { background-position-y: 100%; }
}

@keyframes static-noise {
  0% { transform: translate(0, 0); }
  100% { transform: translate(-1px, -1px); }
}

.effect-pulse {
  animation: pulse-bg 3s infinite alternate;
}
@keyframes pulse-bg {
  from { background-color: #121212; }
  to { background-color: #333333; }
}

.effect-blur {
  filter: blur(2px);
}

.effect-cycle {
  animation: hue-rotate-bg 10s infinite linear;
}
@keyframes hue-rotate-bg {
  from { filter: hue-rotate(0deg); }
  to { filter: hue-rotate(360deg); }
}


.effect-vignette::before {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 60%, rgba(0,0,0,0.5) 100%);
  pointer-events: none;
  z-index: 0;
}

.effect-glitch::before {
  content: "";
  position: fixed;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 2px,
    rgba(255,0,255,0.2) 3px
  );
  mix-blend-mode: screen;
  animation: glitchy 0.2s steps(2) infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes glitchy {
  0% { transform: translate(0, 0); }
  20% { transform: translate(1px, -1px); }
  40% { transform: translate(-1px, 1px); }
  60% { transform: translate(1px, 1px); }
  80% { transform: translate(-1px, -1px); }
  100% { transform: translate(0, 0); }
}

.effect-glow::before {
  content: "";
  position: fixed;
  width: 100%; height: 100%;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
  pointer-events: none;
  animation: glowPulse 5s infinite ease-in-out;
  z-index: 0;
}

@keyframes glowPulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}


body.gradient-bg {
  background: linear-gradient(-45deg, #1e3c72, #2a5298, #4b6cb7, #182848);
  background-size: 400% 400%;
  animation: gradientMove 15s ease infinite;
}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
body.scanlineglow-bg::before {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 1px, transparent 2px);
  pointer-events: none;
  z-index: 0;
}


body.radialdark-bg {
  background: radial-gradient(circle, #0f0f0f 0%, #000000 100%);
  animation: radialPulse 6s infinite alternate;
}
@keyframes radialPulse {
  0% { background-color: #121212; }
  100% { background-color: #1a1a1a; }
}

body.rgbshift-bg {
  background: linear-gradient(90deg, #0ff, #f0f, #0f0, #00f);
  background-size: 600% 600%;
  animation: rgbShift 20s ease infinite;
}
@keyframes rgbShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

body.neonflow-bg {
  background: linear-gradient(120deg, #ff0080, #7928ca, #2c34c7);
  background-size: 400% 400%;
  animation: neonFlow 15s ease infinite;
}
@keyframes neonFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}


body.moondust-bg {
  background: radial-gradient(circle, #2b2b2b 0%, #000000 100%);
  background-size: cover;
  animation: dustyPulse 10s ease-in-out infinite alternate;
}
@keyframes dustyPulse {
  0% { filter: brightness(0.9); }
  100% { filter: brightness(1.1); }
}

body.darkwaves-bg {
  background: repeating-linear-gradient(45deg, #111 0, #111 2px, #1c1c1c 2px, #1c1c1c 4px);
  animation: waveShift 6s linear infinite;
}
@keyframes waveShift {
  from { background-position: 0 0; }
  to { background-position: 100% 100%; }
}

body.synthgrid-bg {
  background: linear-gradient(to bottom, #111 0%, #000 100%), url('https://www.transparenttextures.com/patterns/graphy.png');
  background-blend-mode: overlay;
  animation: gridFade 20s ease-in-out infinite alternate;
}
@keyframes gridFade {
  0% { opacity: 0.8; }
  100% { opacity: 1; }
}


body.auroradrift-bg {
  background: linear-gradient(120deg, #222, #0ff, #222);
  background-size: 300% 300%;
  animation: auroraDrift 10s ease infinite;
}
@keyframes auroraDrift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

body.kaleidopulse-bg {
  background: radial-gradient(circle, #111 30%, #222 70%);
  animation: kaleidoPulse 8s ease-in-out infinite;
}
@keyframes kaleidoPulse {
  0% { filter: hue-rotate(0deg); }
  50% { filter: hue-rotate(180deg); }
  100% { filter: hue-rotate(360deg); }
}

body.circuitflow-bg {
  background: repeating-linear-gradient(90deg, #0ff 0, #0ff 1px, #000 1px, #000 2px);
  animation: circuitFlow 4s linear infinite;
}
@keyframes circuitFlow {
  0% { background-position: 0 0; }
  100% { background-position: 100% 0; }
}

body.blackice-bg {
  background: linear-gradient(135deg, #1a1a1a, #000);
  background-size: 100% 100%;
  animation: blackIceShards 6s ease-in-out infinite;
}
@keyframes blackIceShards {
  0% { background-position: 0 0; }
  50% { background-position: 100% 100%; }
  100% { background-position: 0 0; }
}

body.lasergrid-bg {
  background: repeating-linear-gradient(to right, #0f0 0, #0f0 2px, transparent 2px, transparent 20px),
              repeating-linear-gradient(to bottom, #0f0 0, #0f0 2px, transparent 2px, transparent 20px);
  background-size: 100% 100%;
  animation: laserGlow 1.5s ease-in-out infinite;
}
@keyframes laserGlow {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.9; }
}


body.kaleidoscope-bg {
  background: repeating-conic-gradient(from 0deg, #222 0deg 10deg, #333 10deg 20deg);
  animation: kaleidoSpin 10s linear infinite;
}
@keyframes kaleidoSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

body.infinitetunnel-bg {
  background: radial-gradient(circle, #000 0%, #222 40%, #000 80%);
  animation: tunnelZoom 4s ease-in-out infinite;
}
@keyframes tunnelZoom {
  0%, 100% { background-size: 100% 100%; }
  50% { background-size: 120% 120%; }
}

body.plasmawave-bg {
  background: linear-gradient(45deg, #111, #222, #111);
  background-size: 200% 200%;
  animation: plasmaFlow 3s ease-in-out infinite;
}
@keyframes plasmaFlow {
  0% { background-position: 0 0; }
  100% { background-position: 100% 100%; }
}

body.pixelrain-bg {
  background: repeating-linear-gradient(to bottom, #0f0 0 1px, transparent 1px 3px);
  animation: pixelFall 1s linear infinite;
}
@keyframes pixelFall {
  from { background-position: 0 0; }
  to { background-position: 0 100%; }
}

body.starfield-bg {
  background: url('https://upload.wikimedia.org/wikipedia/commons/2/28/Starsinthesky.gif') repeat center center;
  background-size: cover;
}

body.deepspaceclouds-bg {
  background: radial-gradient(ellipse at center, #1a1a1a, #000);
  animation: cloudDrift 30s linear infinite;
}
@keyframes cloudDrift {
  0% { background-position: 0 0; }
  100% { background-position: 100% 100%; }
}

body.auroraborealis-bg {
  background: linear-gradient(60deg, #0ff, #00f, #f0f, #000);
  background-size: 600% 600%;
  animation: auroraShift 20s ease-in-out infinite;
}
@keyframes auroraShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

body.blobmorph-bg {
  background: radial-gradient(circle at 50% 50%, #222 20%, #000 80%);
  animation: blobMorph 12s infinite alternate ease-in-out;
}
@keyframes blobMorph {
  0% { border-radius: 50% 50% 50% 50% / 50% 50% 50% 50%; }
  100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
}

body.nebulae-bg {
  background: conic-gradient(from 0deg, #111, #222, #111, #000);
  animation: nebulaeCycle 25s linear infinite;
}
@keyframes nebulaeCycle {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

body.filmgrain-bg::before {
  content: "";
  position: fixed;
  width: 100%; height: 100%;
  background: url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif') repeat;
  opacity: 0.05;
  pointer-events: none;
  z-index: 0;
}

body.crtglow-bg::before {
  content: "";
  position: fixed;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(to bottom, #fff1 1px, transparent 2px);
  mix-blend-mode: screen;
  opacity: 0.03;
  pointer-events: none;
}

body.dust-bg::before {
  content: "";
  position: fixed;
  width: 100%; height: 100%;
  background: url('https://www.transparenttextures.com/patterns/dark-mosaic.png') repeat;
  opacity: 0.04;
  pointer-events: none;
}

body.wireframe-bg {
  background: radial-gradient(circle, #111 40%, #000 100%);
  background-size: cover;
  animation: wireRotate 8s linear infinite;
}
@keyframes wireRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

body.hexagons-bg {
  background: url('https://www.transparenttextures.com/patterns/hexellence.png') repeat;
  animation: hexMove 10s linear infinite;
}
@keyframes hexMove {
  0% { background-position: 0 0; }
  100% { background-position: 100% 100%; }
}

body.rings-bg {
  background: radial-gradient(circle, #0f0 5%, transparent 5.5%);
  background-size: 20px 20px;
  animation: ringSpin 12s linear infinite;
}
@keyframes ringSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

body.glitchpulse-bg {
  background: #111;
  animation: glitchFlash 1s steps(2, start) infinite;
}
@keyframes glitchFlash {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.3); }
}

body.ledshimmer-bg {
  background: linear-gradient(to right, #000, #0f0, #000);
  background-size: 200% 100%;
  animation: ledSlide 2s linear infinite;
}
@keyframes ledSlide {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

body.orbitals-bg {
  background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
  animation: orbitPulse 6s ease-in-out infinite;
}
@keyframes orbitPulse {
  0% { opacity: 0.2; }
  50% { opacity: 0.5; }
  100% { opacity: 0.2; }
}

body.rainbowgrid-bg {
  background: repeating-linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet, red);
  background-size: 400% 100%;
  animation: rainbowFlow 20s linear infinite;
}
@keyframes rainbowFlow {
  0% { background-position: 0% 0; }
  100% { background-position: 400% 0; }
}


@media (max-width: 768px) {
  .container {
    width: 100%;
    left: 0 !important;
    top: 0 !important;
    transform: none !important;
    padding: 1rem;
    position: relative !important;
  }

  .time {
    font-size: 4rem !important;
  }

  .countdown {
    font-size: 3rem !important;
  }

  .message {
    font-size: 2rem !important;
  }

  .controls {
    flex-direction: column;
    align-items: flex-start;
    overflow-y: auto;
    max-height: 90vh;
    font-size: 0.9rem;
  }

  .fullscreen-btn {
    font-size: 0.8rem;
    padding: 0.3rem 0.6rem;
  }

  .day {
    font-size: 1.2rem !important;
  }

  .lunch-indicator {
    font-size: 1.5rem !important;
  }
}


@media (max-width: 768px) {
  .day:not(.today) {
    display: none !important;
  }
}

@media (max-width: 768px) {
  .container {
    width: 100vw;
    height: auto;
    max-width: 100%;
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    transform: none !important;
    padding: 1rem;
  }

  .time {
    font-size: 4rem !important;
  }

  .countdown {
    font-size: 3rem !important;
  }

  .message {
    font-size: 2rem !important;
  }

  .controls {
    flex-direction: column;
    align-items: flex-start;
    overflow-y: auto;
    max-height: 90vh;
    font-size: 0.9rem;
  }

  .fullscreen-btn {
    font-size: 0.8rem;
    padding: 0.3rem 0.6rem;
  }

  .day:not(.today) {
    display: none !important;
  }

  .day.today {
    font-size: 1.2rem !important;
  }

  .lunch-indicator {
    font-size: 1.5rem !important;
  }
}


@media (max-width: 768px) {
  .controls {
    flex-direction: column;
    align-items: stretch;
    gap: 0.75rem;
    font-size: 0.9rem;
    padding: 0.5rem;
  }

  .controls label {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
  }

  .controls input,
  .controls select {
    width: 100%;
    font-size: 1rem;
  }

  .day:not(.today) {
    display: none !important;
  }

  .day.today {
    font-size: 1.2rem !important;
  }

  summary {
    font-size: 1.1rem;
    margin-bottom: 0.3rem;
  }

  details {
    width: 100%;
  }
}

@media screen and (max-width: 768px), screen and (orientation: landscape) and (max-height: 500px) {
  .day:not(.today) {
    display: none !important;
  }
}

@media screen and (max-width: 768px) and (orientation: portrait) {
  #displayContainer {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    padding: 0 0 6vh 0;
    gap: 0;
  }
  .time {
    font-size: 20vh !important;
    line-height: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--accent-color);
  }
  .countdown {
    font-size: 5vh !important;
    margin-top: 1rem;
  }
  .day-list {
    display: none !important;
  }
}


@media screen and (max-width: 768px) and (orientation: portrait) {
  .time {
    display: none !important;
  }
  .stacked-clock {
    display: flex !important;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 20vw;
    color: var(--accent-color);
    font-weight: bold;
    height: 70vh;
  }
  .stacked-part {
    line-height: 1;
  }
  .stacked-ampm {
    font-size: 5vw;
    position: absolute;
    bottom: 2vh;
    right: 4vw;
  }
}

@media screen and (max-width: 768px) and (orientation: portrait) {
  .stacked-clock {
    height: 80vh;
    font-size: 24vw;
  }
  .stacked-ampm {
    font-size: 5vw;
    bottom: 1vh;
  }
  .countdown {
    margin-top: 1vh;
  }
}

@media screen and (max-width: 768px) and (orientation: portrait) {
  .stacked-clock {
    height: 100vh;
    font-size: 25vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--accent-color);
    font-weight: bold;
  }
  .stacked-part {
    margin: 0;
    padding: 0;
    line-height: 0.9;
  }
  .stacked-ampm {
    position: absolute;
    top: 1vh;
    right: 4vw;
    font-size: 3vh;
  }
  .time {
    display: none !important;
  }
  .day-list {
    display: none !important;
  }
  .countdown {
    font-size: 3vh !important;
    margin-top: 1vh;
  }
  .message {
    font-size: 2.5vh !important;
  }
}

.pwa-mode .stacked-clock {
  height: 100vh;
  font-size: 30vh;
}
.pwa-mode .stacked-part {
  line-height: 0.9;
}
.pwa-mode .stacked-ampm {
  font-size: 4vh;
  top: 1vh;
}

@media screen and (max-width: 768px) and (orientation: landscape) {
  .message {
    display: block !important;
    font-size: 2.5vh !important;
    margin-top: 1vh;
    text-align: center;
  }
}

@media screen and (max-width: 768px) and (orientation: landscape) {
  .time {
    font-size: 2rem !important;
  }
  .countdown {
    font-size: 1.5rem !important;
  }
  .message {
    font-size: 1.2rem !important;
  }
  .lunch-indicator {
    font-size: 1rem !important;
  }
}


@media screen and (max-width: 768px) and (orientation: portrait) {
  #displayContainer {
    padding-bottom: 6vh;
  }
}


@media screen and (max-width: 768px) {
  .message {
    max-height: 5vh;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}


@media screen and (max-width: 768px) and (orientation: portrait) {
  .message {
    display: block !important;
    font-size: 2.5vh !important;
    max-height: none !important;
    white-space: normal !important;
    text-align: center;
    margin-top: 1vh;
    padding: 0 1rem;
  }
}


@media screen and (max-width: 768px) and (orientation: portrait) {
  #displayContainer {
    padding-top: 4vh !important;
    padding-bottom: 10vh !important;
  }

  #eventMessage,
  #statusMessage {
    display: block !important;
    font-size: 2.2vh !important;
    white-space: normal !important;
    text-align: center;
    margin: 1vh 0 !important;
    padding: 0 1rem;
  }

  body.mobile-portrait .stacked-clock {
    padding-top: 2vh !important;
    padding-bottom: 2vh !important;
    height: auto !important;
    max-height: 60vh;
  }
}

</style>
</head>
<body>
<div class="controls" id="controlsMenu">
<details>
<summary>Settings</summary>
<label>Start Time:
    <input id="startTimeInput" type="time" value="08:30"/>
</label>
<label>Lunch Start:
    <input id="lunchStartInput" type="time" value="11:30"/>
</label>
<label>Lunch End:
    <input id="lunchEndInput" type="time" value="12:30"/>
</label>
<label>End Time:
    <input id="endTimeInput" type="time" value="17:30"/>
</label>
<label>Custom Message:
    <input id="customMessageToggle" type="checkbox"/>
</label>
<label>
<input id="customMessageInput" type="text" value="PLEASE DO NOT DISTURB"/>
</label>
<label>Custom Event:
    <input id="eventNameInput" placeholder="The Thing" type="text"/>
</label>
<label>Event Time:
    <input id="eventTimeInput" type="time"/>
</label>
</details>

<details>
  <summary>Mobile Settings</summary>
  <label>Portrait Clock Size:
    <input id="portraitClockSize" type="number" min="1" max="10" step="0.1" value="3.5" />
  </label>
  <label>Portrait Message Size:
    <input id="portraitMessageSize" type="number" min="1" max="10" step="0.1" value="2.2" />
  </label>
  <label>Portrait Top Padding:
    <input id="portraitTopPadding" type="number" min="0" max="20" step="0.5" value="4" /> vh
  </label>
  <label>Portrait Bottom Padding:
    <input id="portraitBottomPadding" type="number" min="0" max="20" step="0.5" value="10" /> vh
  </label>
</details>

<details>
<summary>System</summary>
<label>Font:
    <select id="fontFamilyPicker">
<option value="Arial, sans-serif">Arial</option>
<option value="Calibri, sans-serif">Calibri</option>
<option value="Cambria, serif">Cambria</option>
<option value="Candara, sans-serif">Candara</option>
<option value="'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif">Comic Sans MS</option>
<option value="Consolas, monospace">Consolas</option>
<option value="'Courier New', monospace">Courier New</option>
<option value="'Franklin Gothic Medium', sans-serif">Franklin Gothic Medium</option>
<option value="Garamond, serif">Garamond</option>
<option value="Georgia, serif">Georgia</option>
<option value="'Gill Sans', sans-serif">Gill Sans</option>
<option value="Helvetica, sans-serif">Helvetica</option>
<option value="Impact, fantasy">Impact</option>
<option value="'Lucida Console', monospace">Lucida Console</option>
<option value="Monaco, monospace">Monaco</option>
<option selected="" value="monospace">Monospace</option>
<option value="Optima, sans-serif">Optima</option>
<option value="'Palatino Linotype', serif">Palatino Linotype</option>
<option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">Segoe UI</option>
<option value="Tahoma, sans-serif">Tahoma</option>
<option value="'Times New Roman', serif">Times New Roman</option>
<option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
<option value="Verdana, sans-serif">Verdana</option>
</select>
</label>
<label>Color:
    <input id="colorPicker" type="color" value="#ffff00"/>
</label>




<label>Clock Size:
        <input id="clockFontSizePicker" max="20" min="1" step="0.5" type="number" value="8"/> </label>
<label>Countdown Size:
        <input id="countdownFontSizePicker" max="20" min="1" step="0.5" type="number" value="5"/> </label>
<label>Message Size:
        <input id="messageFontSizePicker" max="20" min="1" step="0.5" type="number" value="3"/> </label>
<label>Lunch Size:
        <input id="lunchFontSizePicker" max="20" min="1" step="0.5" type="number" value="2"/> </label>
</details>
<details>
<summary>Effects</summary>
<label>Anti-Burn:
    <select id="antiBurnMode">
<option value="off">Standard</option>
<option value="shift">Pixel Shift</option>
<option value="dim">Idle Dim</option>
<option selected="" value="bounce">Bounce</option>
</select>
</label>
<label>Bounce Speed:
    <select id="bounceSpeedPicker">
<option value="1">Slowest</option>
<option value="5">Slow</option>
<option selected="" value="10">Normal</option>
<option value="15">Fast</option>
<option value="20">Fastest</option>
</select>
</label>
<label>Random Bounce Color:
    <input id="randomColorToggle" type="checkbox"/>
</label>
<label>Screen Effect:
    <select id="screenEffectPicker">
<option value="none">None</option>
<option value="matrix">Matrix Rain</option>
<option value="scanlines">Scanlines</option>
<option value="static">Static Noise</option>
<option value="vignette">Vignette Glow</option>
<option value="blur">Warped Blur</option>
<option value="grid">Retro Grid</option>
<option value="pulse">Pulsing Background</option>
<option value="cycle">Color Cycle</option>
<option value="glitch">Glitch Flicker</option>
<option value="glow">Halo Glow</option>
</select>
</label>
<label>Background Animation:
    <select id="backgroundAnimationPicker">
<option value="none">None</option>
<option value="gradient">Moving Gradient</option>
<option value="scanlineglow">Scanline Glow</option>
<option value="radialdark">Radial Pulse</option>
<option value="rgbshift">RGB Shift</option>
<option value="neonflow">Neon Flow</option>
<option value="moondust">Moon Dust</option>
<option value="darkwaves">Dark Waves</option>
<option value="synthgrid">Synth Grid</option>
<option value="auroradrift">Aurora Drift</option>
<option value="kaleidopulse">Kaleido Pulse</option>
<option value="circuitflow">Circuit Flow</option>
<option value="blackice">Black Ice Shards</option>
<option value="lasergrid">Laser Grid</option>
<option value="kaleidoscope">Kaleidoscope</option>
<option value="infinitetunnel">Infinite Tunnel</option>
<option value="plasmawave">Static Plasma Waves</option>
<option value="pixelrain">Pixel Rain</option>
<option value="starfield">Starfield Parallax</option>
<option value="deepspaceclouds">Deep Space Clouds</option>
<option value="auroraborealis">Aurora Borealis</option>
<option value="blobmorph">Morphing Blobs</option>
<option value="nebulae">Color Shifting Nebulae</option>
<option value="filmgrain">Film Grain</option>
<option value="crtglow">CRT Glow</option>
<option value="dust">Animated Dust</option>
<option value="wireframe">Wireframe Grid</option>
<option value="hexagons">Flowing Hexagons</option>
<option value="rings">Concentric Rings</option>
<option value="glitchpulse">Glitch Pulse</option>
<option value="ledshimmer">LED Shimmer</option>
<option value="orbitals">Soft Glow Orbitals</option>
<option value="rainbowgrid">Rainbow Grid</option>
</select>
</label>
</details>
</div>
<button class="fullscreen-btn" id="fullscreenBtn" onclick="toggleFullScreen()">Fullscreen</button>
<div class="container" id="displayContainer">
<div class="stacked-clock" id="stackedClock">
<div class="stacked-part" id="stackedHours">--</div>
<div class="stacked-part" id="stackedMinutes">--</div>
<div class="stacked-part" id="stackedSeconds">--</div>
</div>
<div class="day-list" id="dayList"></div>
<div class="time" id="currentTime">--:--:--</div>
<div class="countdown" id="countdown">--:--:--</div>
<div class="message" id="statusMessage"></div>
<div class="lunch-indicator" id="lunchIndicator"></div>
<div class="countdown" id="eventCountdown"></div>
<div class="message" id="eventMessage"></div>
</div>
<script>
// Detect PWA mode and apply class for custom styling
const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
if (isStandalone) {
  document.body.classList.add("pwa-mode");
}


    const days = ['', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', ''];
    const dayList = document.getElementById('dayList');
    dayList.innerHTML = days.map((day, i) =>
      `<span class="day${i === new Date().getDay() ? ' today' : ''}">${day}</span>`).join('');

    function updateTime() {
      const now = new Date();
      
    document.getElementById('currentTime').textContent = now.toLocaleTimeString();

    // Update stacked clock too
    const h = now.getHours();
    const hours = String(h % 12 || 12).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');

    document.getElementById('stackedHours').textContent = hours;
    document.getElementById('stackedMinutes').textContent = minutes;
    document.getElementById('stackedSeconds').textContent = seconds;
    

      
      const startInput = document.getElementById('startTimeInput').value.split(':');
      const endInput = document.getElementById('endTimeInput').value.split(':');
      const lunchStartInput = document.getElementById('lunchStartInput').value.split(':');
      const lunchEndInput = document.getElementById('lunchEndInput').value.split(':');

      const start = new Date();
      start.setHours(parseInt(startInput[0]), parseInt(startInput[1]), 0, 0);
      const end = new Date();
      end.setHours(parseInt(endInput[0]), parseInt(endInput[1]), 0, 0);
      const lunchStart = new Date();
      lunchStart.setHours(parseInt(lunchStartInput[0]), parseInt(lunchStartInput[1]), 0, 0);
      const lunchEnd = new Date();
      lunchEnd.setHours(parseInt(lunchEndInput[0]), parseInt(lunchEndInput[1]), 0, 0);
    

      const messageEl = document.getElementById('statusMessage');
      const countdownEl = document.getElementById('countdown');
      const lunchEl = document.getElementById('lunchIndicator');

      lunchEl.textContent = (now >= lunchStart && now < lunchEnd) ? 'LUNCH TIME' : '';

      const useCustom = document.getElementById('customMessageToggle').checked;
      const customMessage = document.getElementById('customMessageInput').value;

      if (now >= start && now <= end && now.getDay() >= 1 && now.getDay() <= 5) {
        const totalSeconds = Math.floor((end - now) / 1000);
        const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
        const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
        const seconds = String(totalSeconds % 60).padStart(2, '0');
        countdownEl.textContent = `${hours}:${minutes}:${seconds}`;
        messageEl.textContent = useCustom ? customMessage : 'Time left in workday';
      } else {
        countdownEl.textContent = '';
        messageEl.textContent = useCustom ? customMessage : '';
      }
    }

    document.getElementById('fontFamilyPicker').addEventListener('change', function () {
      document.body.style.fontFamily = this.value;
    });

    document.getElementById('colorPicker').addEventListener('input', function () {
      document.documentElement.style.setProperty('--accent-color', this.value);
    });

    
function toggleFullScreen() {
  const docEl = document.documentElement;
  if (!document.fullscreenElement && !document.webkitFullscreenElement) {
    if (docEl.requestFullscreen) {
      docEl.requestFullscreen();
    } else if (docEl.webkitRequestFullscreen) {
      docEl.webkitRequestFullscreen(); // Safari
    }
  } else {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen(); // Safari
    }
  }
}


    // Smooth bounce variables
    let bounceSpeed = 10;
    document.getElementById('bounceSpeedPicker').addEventListener('change', function () {
      bounceSpeed = Number(this.value);
    });

    const container = document.getElementById('displayContainer');
    let posX = 100, posY = 100;
    let velX = 1, velY = 1;

    function lerp(start, end, amt) {
      return (1 - amt) * start + amt * end;
    }

    
    function getRandomColor() {
  const neonColors = [
    '#39ff14', // Electric green
    '#00ffff', // Aqua
    '#ff00ff', // Fuchsia
    '#ff073a', // Neon red
    '#ffff00', // Bright yellow
    '#ff69b4', // Hot pink
    '#00ffcc', // Mint
    '#ffb347', // Light orange
    '#da70d6', // Orchid
    '#00ff00'  // Lime
  ];
  return neonColors[Math.floor(Math.random() * neonColors.length)];
}
let lastColorChange = 0;
const colorChangeCooldown = 500; // milliseconds

function maybeChangeColor() {
  const now = Date.now();
  if (now - lastColorChange > colorChangeCooldown) {
    document.documentElement.style.setProperty('--accent-color', getRandomColor());
    lastColorChange = now;
  }
}

function bounceLoop() {
      const mode = document.getElementById('antiBurnMode').value;
      if (mode !== 'bounce') {
        requestAnimationFrame(bounceLoop);
        return;
      }

      const rect = container.getBoundingClientRect();
      const maxX = window.innerWidth - rect.width;
      const maxY = window.innerHeight - rect.height;

      posX += velX * bounceSpeed * 0.1;
      posY += velY * bounceSpeed * 0.1;

      
      if (posX <= 0 || posX >= maxX) {
        velX *= -1;
        if (document.getElementById('randomColorToggle').checked) {
          maybeChangeColor();
        }
      }
      if (posY <= 0 || posY >= maxY) {
        velY *= -1;
        if (document.getElementById('randomColorToggle').checked) {
          maybeChangeColor();
        }
      }


      const smoothX = lerp(parseFloat(container.style.left || 0), posX, 0.1);
      const smoothY = lerp(parseFloat(container.style.top || 0), posY, 0.1);

      container.style.left = smoothX + 'px';
      container.style.top = smoothY + 'px';
      container.style.position = 'absolute';

      requestAnimationFrame(bounceLoop);
    }

    // Pixel shift + dim (still frame-based)
    let offset = 0;
    let idleTime = 0;
    setInterval(() => {
      
const screenEffectPicker = document.getElementById('screenEffectPicker');
screenEffectPicker.addEventListener('change', function () {
  const value = this.value;
  document.body.className = document.body.className.replace(/\beffect-\w+\b/g, '').trim(); // Remove existing effects
  if (value !== 'none') {
    document.body.classList.add('effect-' + value);
  }
});

    
document.getElementById('backgroundAnimationPicker').addEventListener('change', function () {
  document.body.classList.remove('gradient-bg', 'scanlineglow-bg', 'radialdark-bg', 'rgbshift-bg', 'neonflow-bg', 'moondust-bg', 'darkwaves-bg', 'synthgrid-bg', 'auroradrift-bg', 'kaleidopulse-bg', 'circuitflow-bg', 'blackice-bg', 'lasergrid-bg', 'kaleidoscope-bg', 'infinitetunnel-bg', 'plasmawave-bg', 'pixelrain-bg', 'starfield-bg', 'deepspaceclouds-bg', 'auroraborealis-bg', 'blobmorph-bg', 'nebulae-bg', 'filmgrain-bg', 'crtglow-bg', 'dust-bg', 'wireframe-bg', 'hexagons-bg', 'rings-bg', 'glitchpulse-bg', 'ledshimmer-bg', 'orbitals-bg', 'rainbowgrid-bg');
  if (this.value !== 'none') {
    document.body.classList.add(this.value + '-bg');
  }
});

function updateEventCountdown() {
  const name = document.getElementById('eventNameInput').value.trim();
  const time = document.getElementById('eventTimeInput').value;
  const eventCountdown = document.getElementById('eventCountdown');
  const eventMessage = document.getElementById('eventMessage');

  if (!time) {
    eventCountdown.textContent = '';
    eventMessage.textContent = '';
    return;
  }

  const now = new Date();
  const [hours, minutes] = time.split(':');
  const eventTime = new Date();
  eventTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);

  if (eventTime < now) {
    eventCountdown.textContent = '';
    eventMessage.textContent = '';
    return;
  }

  const diffSeconds = Math.floor((eventTime - now) / 1000);
  const h = String(Math.floor(diffSeconds / 3600)).padStart(2, '0');
  const m = String(Math.floor((diffSeconds % 3600) / 60)).padStart(2, '0');
  const s = String(diffSeconds % 60).padStart(2, '0');

  eventCountdown.textContent = `${h}:${m}:${s}`;
  eventMessage.textContent = name ? `${name}` : 'The Thing';
}

    updateTime();
    updateEventCountdown();
      const mode = document.getElementById('antiBurnMode').value;
      if (mode === 'shift') {
        offset += 0.05;
        const x = Math.sin(offset) * 5;
        const y = Math.cos(offset) * 5;
        container.style.top = '50%';
        container.style.left = '50%';
        container.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px))`;
        container.style.position = 'absolute';
      } else if (mode === 'dim') {
        idleTime++;
        if (idleTime > 15) document.body.style.opacity = '0.3';
      } else if (mode !== 'bounce') {
        document.body.style.opacity = '1';
        container.style.top = '50%';
        container.style.left = '50%';
        container.style.transform = 'translate(-50%, -50%)';
        container.style.position = 'absolute';
      }
    }, 1000);

    // UI visibility
    let hideTimeout;
    const controls = document.getElementById('controlsMenu');
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    function showMenus() {
      controls.style.display = 'flex';
      fullscreenBtn.style.display = 'block';
      clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => {
        controls.style.display = 'none';
        fullscreenBtn.style.display = 'none';
      }, 30000); // <-- This number controls how soon the menu disappears (6000ms = 6 seconds)
    }

    document.addEventListener('mousemove', showMenus);
    showMenus();

    ['mousemove', 'keypress', 'click'].forEach(evt =>
      document.addEventListener(evt, () => {
        idleTime = 0;
        document.body.style.opacity = '1';
      })
    );

    
document.getElementById('backgroundAnimationPicker').addEventListener('change', function () {
  document.body.classList.remove('gradient-bg', 'scanlineglow-bg', 'radialdark-bg', 'rgbshift-bg', 'neonflow-bg', 'moondust-bg', 'darkwaves-bg', 'synthgrid-bg', 'auroradrift-bg', 'kaleidopulse-bg', 'circuitflow-bg', 'blackice-bg', 'lasergrid-bg', 'kaleidoscope-bg', 'infinitetunnel-bg', 'plasmawave-bg', 'pixelrain-bg', 'starfield-bg', 'deepspaceclouds-bg', 'auroraborealis-bg', 'blobmorph-bg', 'nebulae-bg', 'filmgrain-bg', 'crtglow-bg', 'dust-bg', 'wireframe-bg', 'hexagons-bg', 'rings-bg', 'glitchpulse-bg', 'ledshimmer-bg', 'orbitals-bg', 'rainbowgrid-bg');
  if (this.value !== 'none') {
    document.body.classList.add(this.value + '-bg');
  }
});

function updateEventCountdown() {
  const name = document.getElementById('eventNameInput').value.trim();
  const time = document.getElementById('eventTimeInput').value;
  const eventCountdown = document.getElementById('eventCountdown');
  const eventMessage = document.getElementById('eventMessage');

  if (!time) {
    eventCountdown.textContent = '';
    eventMessage.textContent = '';
    return;
  }

  const now = new Date();
  const [hours, minutes] = time.split(':');
  const eventTime = new Date();
  eventTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);

  if (eventTime < now) {
    eventCountdown.textContent = '';
    eventMessage.textContent = '';
    return;
  }

  const diffSeconds = Math.floor((eventTime - now) / 1000);
  const h = String(Math.floor(diffSeconds / 3600)).padStart(2, '0');
  const m = String(Math.floor((diffSeconds % 3600) / 60)).padStart(2, '0');
  const s = String(diffSeconds % 60).padStart(2, '0');

  eventCountdown.textContent = `${h}:${m}:${s}`;
  eventMessage.textContent = name ? `${name}` : 'event';
}

    updateTime();
    updateEventCountdown();
    bounceLoop();
  
function applyCustomFontSizes() {
  document.querySelector('.time').style.fontSize = document.getElementById('clockFontSizePicker').value + 'rem';
  document.querySelectorAll('.countdown').forEach(el => el.style.fontSize = document.getElementById('countdownFontSizePicker').value + 'rem');
  document.querySelectorAll('.message').forEach(el => el.style.fontSize = document.getElementById('messageFontSizePicker').value + 'rem');
  document.querySelector('.lunch-indicator').style.fontSize = document.getElementById('lunchFontSizePicker').value + 'rem';
}

['clockFontSizePicker', 'countdownFontSizePicker', 'messageFontSizePicker', 'lunchFontSizePicker'].forEach(id => {
  document.getElementById(id).addEventListener('input', applyCustomFontSizes);
});

// Save settings to localStorage
function saveSettings() {
  const settings = {
    startTime: document.getElementById('startTimeInput').value,
    lunchStart: document.getElementById('lunchStartInput').value,
    lunchEnd: document.getElementById('lunchEndInput').value,
    endTime: document.getElementById('endTimeInput').value,
    customMessageToggle: document.getElementById('customMessageToggle').checked,
    customMessageInput: document.getElementById('customMessageInput').value,
    eventNameInput: document.getElementById('eventNameInput').value,
    eventTimeInput: document.getElementById('eventTimeInput').value,
    fontFamily: document.getElementById('fontFamilyPicker').value,
    color: document.getElementById('colorPicker').value,
    antiBurnMode: document.getElementById('antiBurnMode').value,
    bounceSpeed: document.getElementById('bounceSpeedPicker').value,
    randomColorToggle: document.getElementById('randomColorToggle').checked,
    clockFontSize: document.getElementById('clockFontSizePicker').value,
    countdownFontSize: document.getElementById('countdownFontSizePicker').value,
    messageFontSize: document.getElementById('messageFontSizePicker').value,
    lunchFontSize: document.getElementById('lunchFontSizePicker').value,
    screenEffect: document.getElementById('screenEffectPicker').value,
    backgroundAnimation: document.getElementById('backgroundAnimationPicker').value
  };
  localStorage.setItem('clockthingSettings', JSON.stringify(settings));
}

// Load settings from localStorage
function loadSettings() {
  const saved = JSON.parse(localStorage.getItem('clockthingSettings'));
  if (!saved) return;

  document.getElementById('startTimeInput').value = saved.startTime || "08:30";
  document.getElementById('lunchStartInput').value = saved.lunchStart || "11:30";
  document.getElementById('lunchEndInput').value = saved.lunchEnd || "12:30";
  document.getElementById('endTimeInput').value = saved.endTime || "17:30";
  document.getElementById('customMessageToggle').checked = saved.customMessageToggle || false;
  document.getElementById('customMessageInput').value = saved.customMessageInput || "";
  document.getElementById('eventNameInput').value = saved.eventNameInput || "";
  document.getElementById('eventTimeInput').value = saved.eventTimeInput || "";
  document.getElementById('fontFamilyPicker').value = saved.fontFamily || "monospace";
  document.getElementById('colorPicker').value = saved.color || "#ffff00";
  document.getElementById('antiBurnMode').value = saved.antiBurnMode || "bounce";
  document.getElementById('bounceSpeedPicker').value = saved.bounceSpeed || "10";
  document.getElementById('randomColorToggle').checked = saved.randomColorToggle || false;
  document.getElementById('clockFontSizePicker').value = saved.clockFontSize || "8";
  document.getElementById('countdownFontSizePicker').value = saved.countdownFontSize || "5";
  document.getElementById('messageFontSizePicker').value = saved.messageFontSize || "3";
  document.getElementById('lunchFontSizePicker').value = saved.lunchFontSize || "2";
  document.getElementById('screenEffectPicker').value = saved.screenEffect || "none";
  document.getElementById('backgroundAnimationPicker').value = saved.backgroundAnimation || "none";
}

// Hook into inputs to trigger saving
window.addEventListener('DOMContentLoaded', () => {
  loadSettings();
  document.querySelectorAll('input, select').forEach(el => {
    el.addEventListener('change', saveSettings);
    el.addEventListener('input', saveSettings);
  });
});


function enforceWindowResizeAwareness() {
  document.documentElement.style.height = window.innerHeight + "px";
  document.body.style.height = window.innerHeight + "px";
}

function updateMobilePortraitFlag() {
  const isPortrait = window.matchMedia("(orientation: portrait)").matches;
  const isMobile = window.innerWidth <= 768;
  document.body.classList.toggle("mobile-portrait", isPortrait && isMobile);
}

window.addEventListener("resize", () => {
  enforceWindowResizeAwareness();
  updateMobilePortraitFlag();
});
window.addEventListener("orientationchange", () => {
  enforceWindowResizeAwareness();
  updateMobilePortraitFlag();
});
window.addEventListener("DOMContentLoaded", () => {
  enforceWindowResizeAwareness();
  updateMobilePortraitFlag();
});


function applyPortraitStyles() {
  if (!document.body.classList.contains("mobile-portrait")) return;

  const clockSize = document.getElementById('portraitClockSize').value + 'rem';
  const msgSize = document.getElementById('portraitMessageSize').value + 'vh';
  const padTop = document.getElementById('portraitTopPadding').value + 'vh';
  const padBottom = document.getElementById('portraitBottomPadding').value + 'vh';

  const clock = document.querySelector('.stacked-clock');
  const container = document.getElementById('displayContainer');
  const msg1 = document.getElementById('statusMessage');
  const msg2 = document.getElementById('eventMessage');

  if (clock) clock.style.fontSize = clockSize;
  if (container) {
    container.style.paddingTop = padTop;
    container.style.paddingBottom = padBottom;
  }
  if (msg1) msg1.style.fontSize = msgSize;
  if (msg2) msg2.style.fontSize = msgSize;
}

function setupPortraitStyleListeners() {
  const ids = ['portraitClockSize', 'portraitMessageSize', 'portraitTopPadding', 'portraitBottomPadding'];
  ids.forEach(id => {
    const el = document.getElementById(id);
    if (el) {
      el.addEventListener('input', applyPortraitStyles);
    }
  });
}

window.addEventListener("DOMContentLoaded", () => {
  setupPortraitStyleListeners();
  applyPortraitStyles();
});
window.addEventListener("resize", applyPortraitStyles);
window.addEventListener("orientationchange", applyPortraitStyles);

</script>
</body>
</html>
